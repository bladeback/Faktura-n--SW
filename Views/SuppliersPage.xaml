<UserControl x:Class="InvoiceApp.Views.SuppliersPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d">

        <Grid>
                <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Horní pruh: název vlevo, toolbar vpravo -->
                <Grid Grid.Row="0"
                                Margin="16,12,16,8">
                        <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Titulek -->
                        <StackPanel Orientation="Horizontal"
                                        VerticalAlignment="Center">
                                <TextBlock Text="Dodavatelé"
                                                Style="{StaticResource Heading1}"/>
                                <TextBlock Text="{Binding Suppliers.Count, StringFormat='  ({0})'}"
                                           Margin="6,0,0,0"
                                           VerticalAlignment="Center"
                                           Style="{StaticResource SubtleText}"/>
                        </StackPanel>

                        <!-- Toolbar -->
                        <StackPanel Grid.Column="1"
                                    Orientation="Horizontal"
                                    VerticalAlignment="Center">
                                <Button Content="Přidat"
                                        Click="Add_Click"
                                        Style="{StaticResource ToolbarButton}"/>
                                <Button Content="Smazat vybrané"
                                        Click="DeleteSelected_Click"
                                        Style="{StaticResource ToolbarButton}"/>
                                <Button Content="Uložit"
                                        Click="Save_Click"
                                        Style="{StaticResource ToolbarButton}"/>

                                <!-- mezera -->
                                <Border Width="12"
                                                Background="Transparent"/>

                                <!-- Hledání -->
                                <TextBox x:Name="SearchBox"
                                         Style="{StaticResource SearchBox}"
                                         Width="300"
                                         VerticalAlignment="Center"
                                         ToolTip="Hledat (název, IČO, město, e-mail)…"
                                         TextChanged="SearchBox_TextChanged"/>
                        </StackPanel>
                </Grid>

                <!-- Seznam dodavatelů (přehled) -->
                <DataGrid x:Name="SuppliersGrid"
                          Grid.Row="1"
                          Margin="16,0,16,16"
                          ItemsSource="{Binding Suppliers, RelativeSource={RelativeSource AncestorType=UserControl}}"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          CanUserDeleteRows="True"
                          IsReadOnly="False"
                          HeadersVisibility="Column"
                          ColumnHeaderHeight="32"
                          EnableRowVirtualization="True"
                          MouseDoubleClick="SuppliersGrid_MouseDoubleClick"
                          SelectionMode="Single"
                          SelectionUnit="FullRow"
                          RowStyle="{StaticResource ModernRowStyle}"
                          CellStyle="{StaticResource ModernCellStyle}"
                          ColumnHeaderStyle="{StaticResource ModernHeaderStyle}">

                        <DataGrid.Columns>
                                <DataGridTextColumn Header="Název"
                                                    Binding="{Binding Name}"
                                                    Width="2*"/>
                                <DataGridTextColumn Header="Ulice a č.p."
                                                    Binding="{Binding Address}"
                                                    Width="2*"/>
                                <DataGridTextColumn Header="Město"
                                                    Binding="{Binding City}"
                                                    Width="*"/>
                                <DataGridTextColumn Header="IČO"
                                                    Binding="{Binding ICO}"
                                                    Width="*"/>
                                <DataGridTextColumn Header="Telefon"
                                                    Binding="{Binding Phone}"
                                                    Width="*"/>
                                <DataGridTextColumn Header="E-mail"
                                                    Binding="{Binding Email}"
                                                    Width="2*"/>
                                <DataGridCheckBoxColumn Header="Plátce DPH"
                                                        Binding="{Binding IsVatPayer}"
                                                        Width="*"/>
                        </DataGrid.Columns>
                </DataGrid>
        </Grid>
</UserControl>
